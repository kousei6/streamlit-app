
# JSONFormatter

## 概要

このアプリは、Streamlitを使って構築された、JSONデータを整形するためのシンプルなツールです。非圧縮の、または読みづらい形式のJSONデータを貼り付けるだけで、インデントと改行を付けて構造化された形で表示します。

## 機能

- **JSON整形:** 任意のJSON文字列を、見やすい形式に整形します。
- **エラーチェック:** 不正なJSON形式が入力された場合、具体的なエラーメッセージを表示します。
- **リアルタイムプレビュー:** （※このバージョンではボタンクリックで実行）入力されたデータを整形してすぐに確認できます。
- **データサイズ比較:** 整形前と整形後のデータサイズ（バイト）を表示し、整形によるサイズの増加を確認できます。

## セットアップと実行方法

### 1. 依存関係のインストール

このアプリケーションは、StreamlitとPythonの標準ライブラリである`json`を使用します。`json`は追加インストール不要です。

以下のコマンドを実行して、`streamlit`をインストールしてください。

```bash
pip install streamlit
````

### 2\. アプリケーションの実行

`app.py` ファイルを任意のディレクトリに保存した後、以下のコマンドをターミナルで実行してください。

```bash
streamlit run app.py
```

コマンド実行後、ローカルブラウザが自動的に開き、アプリケーションが表示されます。
URLは通常 `http://localhost:8501` となります。

## コードの説明

  - `app.py`: Streamlitアプリケーションのメインファイルです。
      - **`format_json()` 関数:** この関数の中心的なロジックは、Pythonの`json`モジュールを使用しています。
          - `json.loads()`: 入力されたJSON文字列をPythonの辞書オブジェクトに変換します。このステップで、不正なJSON形式の場合`json.JSONDecodeError`が発生します。
          - `json.dumps(..., indent=4)`: 変換したPythonオブジェクトを、`indent=4`（4スペースのインデント）を指定してJSON文字列に戻します。これにより、データが視覚的に構造化され、読みやすくなります。
      - **`st.text_area()`:** ユーザーがJSONデータを貼り付けるための大きなテキストボックスを提供します。`height`パラメータで表示サイズを調整しています。
      - **`st.button()`:** ユーザーが整形処理を明示的に開始するためのボタンです。
      - **`st.code()`:** 整形されたJSONデータを、シンタックスハイライト付きのコードブロックとして表示します。`language="json"`を指定することで、適切なハイライトが適用されます。
      - **エラーハンドリング:** `try...except`ブロックを使用し、無効なJSONデータが入力された場合に、アプリケーションがクラッシュせず、ユーザーにわかりやすいエラーメッセージを表示するようにしています。

<!-- end list -->

```
```
